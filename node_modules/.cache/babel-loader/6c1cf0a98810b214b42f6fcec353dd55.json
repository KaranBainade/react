{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport React, { Component } from 'react';\nimport withAnalyticsEvents from './withAnalyticsEvents';\nimport AnalyticsContext from './AnalyticsContext';\n\nvar BaseAnalyticsErrorBoundary =\n/** @class */\nfunction (_super) {\n  __extends(BaseAnalyticsErrorBoundary, _super);\n\n  function BaseAnalyticsErrorBoundary() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.fireAnalytics = function (analyticsErrorPayload) {\n      var _a = _this.props,\n          createAnalyticsEvent = _a.createAnalyticsEvent,\n          channel = _a.channel,\n          data = _a.data;\n      createAnalyticsEvent({\n        action: 'UnhandledError',\n        eventType: 'ui',\n        attributes: __assign(__assign({\n          browserInfo: window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : 'unknown'\n        }, data), analyticsErrorPayload)\n      }).fire(channel);\n    };\n\n    return _this;\n  }\n\n  BaseAnalyticsErrorBoundary.prototype.componentDidCatch = function (error, info) {\n    var payload = {\n      error: error,\n      info: info\n    };\n    this.fireAnalytics(payload);\n  };\n\n  BaseAnalyticsErrorBoundary.prototype.render = function () {\n    var _a = this.props,\n        data = _a.data,\n        children = _a.children;\n    return React.createElement(AnalyticsContext, {\n      data: data\n    }, children);\n  };\n\n  return BaseAnalyticsErrorBoundary;\n}(Component);\n\nexport { BaseAnalyticsErrorBoundary };\nvar AnalyticsErrorBoundary = withAnalyticsEvents()(BaseAnalyticsErrorBoundary);\nexport default AnalyticsErrorBoundary;","map":{"version":3,"sources":["../../src/AnalyticsErrorBoundary.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAP,IAA2B,SAA3B,QAA4C,OAA5C;AACA,OAAO,mBAAP,MAEO,uBAFP;AAGA,OAAO,gBAAP,MAA6B,oBAA7B;;AAmBA,IAAA,0BAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAgD,EAAA,SAAA,CAAA,0BAAA,EAAA,MAAA,CAAA;;AAAhD,WAAA,0BAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AAIE,IAAA,KAAA,CAAA,aAAA,GAAgB,UAAC,qBAAD,EAAqD;AAC7D,UAAA,EAAA,GAAA,KAAA,CAAA,KAAA;AAAA,UAAE,oBAAA,GAAA,EAAA,CAAA,oBAAF;AAAA,UAAwB,OAAA,GAAA,EAAA,CAAA,OAAxB;AAAA,UAAiC,IAAA,GAAA,EAAA,CAAA,IAAjC;AAEN,MAAA,oBAAqB,CAAC;AACpB,QAAA,MAAM,EAAE,gBADY;AAEpB,QAAA,SAAS,EAAE,IAFS;AAGpB,QAAA,UAAU,EAAA,QAAA,CAAA,QAAA,CAAA;AACR,UAAA,WAAW,EACT,MAAM,IAAI,MAAM,CAAC,SAAjB,IAA8B,MAAM,CAAC,SAAP,CAAiB,SAA/C,GACI,MAAM,CAAC,SAAP,CAAiB,SADrB,GAEI;AAJE,SAAA,EAKL,IALK,CAAA,EAML,qBANK;AAHU,OAAD,CAArB,CAWG,IAXH,CAWQ,OAXR;AAYD,KAfD;;;AAiCD;;AAhBC,EAAA,0BAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UACE,KADF,EAEE,IAFF,EAEwC;AAEtC,QAAM,OAAO,GAAkC;AAC7C,MAAA,KAAK,EAAA,KADwC;AAE7C,MAAA,IAAI,EAAA;AAFyC,KAA/C;AAKA,SAAK,aAAL,CAAmB,OAAnB;AACD,GAVD;;AAYA,EAAA,0BAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACQ,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAE,IAAA,GAAA,EAAA,CAAA,IAAF;AAAA,QAAQ,QAAA,GAAA,EAAA,CAAA,QAAR;AACN,WAAO,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB;AAAC,MAAA,IAAI,EAAE;AAAP,KAAjB,EAA+B,QAA/B,CAAP;AACD,GAHD;;AAIF,SAAA,0BAAA;AAAC,CArCD,CAAgD,SAAhD,CAAA;;;AAuCA,IAAM,sBAAsB,GAAG,mBAAmB,GAChD,0BADgD,CAAlD;AAIA,eAAe,sBAAf","sourceRoot":"","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport React, { Component } from 'react';\nimport withAnalyticsEvents from './withAnalyticsEvents';\nimport AnalyticsContext from './AnalyticsContext';\nvar BaseAnalyticsErrorBoundary = /** @class */ (function (_super) {\n    __extends(BaseAnalyticsErrorBoundary, _super);\n    function BaseAnalyticsErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.fireAnalytics = function (analyticsErrorPayload) {\n            var _a = _this.props, createAnalyticsEvent = _a.createAnalyticsEvent, channel = _a.channel, data = _a.data;\n            createAnalyticsEvent({\n                action: 'UnhandledError',\n                eventType: 'ui',\n                attributes: __assign(__assign({ browserInfo: window && window.navigator && window.navigator.userAgent\n                        ? window.navigator.userAgent\n                        : 'unknown' }, data), analyticsErrorPayload),\n            }).fire(channel);\n        };\n        return _this;\n    }\n    BaseAnalyticsErrorBoundary.prototype.componentDidCatch = function (error, info) {\n        var payload = {\n            error: error,\n            info: info,\n        };\n        this.fireAnalytics(payload);\n    };\n    BaseAnalyticsErrorBoundary.prototype.render = function () {\n        var _a = this.props, data = _a.data, children = _a.children;\n        return React.createElement(AnalyticsContext, { data: data }, children);\n    };\n    return BaseAnalyticsErrorBoundary;\n}(Component));\nexport { BaseAnalyticsErrorBoundary };\nvar AnalyticsErrorBoundary = withAnalyticsEvents()(BaseAnalyticsErrorBoundary);\nexport default AnalyticsErrorBoundary;\n//# sourceMappingURL=AnalyticsErrorBoundary.js.map"]},"metadata":{},"sourceType":"module"}